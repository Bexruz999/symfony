{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper {
            margin: 1em auto;
            max-width: 800px;
            width: 95%;
            font: 18px/1.5 sans-serif;
        }

        .example-wrapper code {
            background: #F5F5F5;
            padding: 2px 6px;
        }
    </style>

    <div class="example-wrapper">
        <h1>Categories</h1>


        <br>
        <a class="btn btn-success" href="{{ path('admin.category.create') }}">New Category</a>
        <br>
        <br>

        <table class="table">
            <thead>
            <tr>
                <th>Name</th>
                <th>Reccetes</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for category in categories %}
                <tr>
                    <td>
                        <a href="{{ path('admin.category.show', {id: category.id}) }}">{{ category.name }}</a>
                    </td>
                    <td>
                        <p>{{ category.count }}</p>
                    </td>
                    <td>
                        <div class="d-flex gap-1">

                            <a class="btn btn-primary btn-sm" href="{{ path('admin.category.edit', {id: category.id}) }}">Edit</a>

                            <form action="{{ path('admin.category.delete', {id: category.id}) }}" method="post">
                                <input type="hidden" name="_method" value="DELETE">
                                <button class="btn btn-danger btn-sm" type="submit">Delete</button>
                            </form>

                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
